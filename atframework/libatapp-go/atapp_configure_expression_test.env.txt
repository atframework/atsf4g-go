# Expression variable definitions (referenced by ${VAR} in config entries below)
EXPR_TEST_PROTOCOL=https
EXPR_TEST_HOST=example.com
EXPR_TEST_PORT=8443
EXPR_TEST_NAMESPACE=custom-namespace
EXPR_TEST_LABEL_KEY=environment
EXPR_TEST_LABEL_VAL=staging
EXPR_TEST_REGION=us-west-2
EXPR_TEST_BUS_LISTEN=atcp://:::21437

# App root config
ATAPP_ID=0x00001234
ATAPP_ID_MASK=8.8.8.8
ATAPP_NAME=sample_echo_svr-1
ATAPP_TYPE_ID=1
ATAPP_TYPE_NAME=sample_echo_svr

ATAPP_METADATA_LABELS_0_KEY=deployment.environment
ATAPP_METADATA_LABELS_0_VALUE=test
ATAPP_METADATA_LABELS_1_KEY=deployment.region
ATAPP_METADATA_LABELS_1_VALUE=cn

# Gateway 0: basic variable reference expressions
ATAPP_BUS_GATEWAYS_0_ADDRESS=${EXPR_TEST_PROTOCOL}://${EXPR_TEST_HOST}:${EXPR_TEST_PORT}
ATAPP_BUS_GATEWAYS_0_MATCH_NAMESPACES_0=${EXPR_TEST_NAMESPACE:-default-ns}
ATAPP_BUS_GATEWAYS_0_MATCH_NAMESPACES_1=${EXPR_TEST_MISSING_NS:-fallback-namespace}
ATAPP_BUS_GATEWAYS_0_MATCH_LABELS_0_KEY=${EXPR_TEST_LABEL_KEY:-env}
ATAPP_BUS_GATEWAYS_0_MATCH_LABELS_0_VALUE=${EXPR_TEST_LABEL_VAL:-production}
ATAPP_BUS_GATEWAYS_0_MATCH_LABELS_1_KEY=region
ATAPP_BUS_GATEWAYS_0_MATCH_LABELS_1_VALUE=${EXPR_TEST_REGION}

# Gateway 1: default value expression
ATAPP_BUS_GATEWAYS_1_ADDRESS=${EXPR_TEST_GATEWAY_ADDR:-tcp://0.0.0.0:8080}

# Gateway 2: multi-level nested default expressions
ATAPP_BUS_GATEWAYS_2_ADDRESS=${EXPR_TEST_DEEP_PROTO:-${EXPR_TEST_DEEP_FALLBACK:-http}}://${EXPR_TEST_DEEP_HOST:-${EXPR_TEST_DEEP_FALLBACK_HOST:-localhost}}:${EXPR_TEST_DEEP_PORT:-${EXPR_TEST_DEEP_FALLBACK_PORT:-9090}}
ATAPP_BUS_GATEWAYS_2_MATCH_LABELS_0_KEY=${EXPR_TEST_DEEP_LKEY:-${EXPR_TEST_DEEP_LKEY_FB:-tier}}
ATAPP_BUS_GATEWAYS_2_MATCH_LABELS_0_VALUE=${EXPR_TEST_DEEP_LVAL:-${EXPR_TEST_DEEP_LVAL_FB:-backend}}

# Gateway 3: conditional word (:+) operator
ATAPP_BUS_GATEWAYS_3_ADDRESS=${EXPR_TEST_PROTOCOL:+secure}://${EXPR_TEST_HOST}:${EXPR_TEST_COND_UNSET:+9999}${EXPR_TEST_COND_UNSET:-8443}
ATAPP_BUS_GATEWAYS_3_MATCH_NAMESPACES_0=${EXPR_TEST_NAMESPACE:+ns-when-set}
ATAPP_BUS_GATEWAYS_3_MATCH_NAMESPACES_1=${EXPR_TEST_COND_UNSET:+ns-when-unset}
ATAPP_BUS_GATEWAYS_3_MATCH_LABELS_0_KEY=${EXPR_TEST_REGION:+region-active}
ATAPP_BUS_GATEWAYS_3_MATCH_LABELS_0_VALUE=${EXPR_TEST_LABEL_VAL:+val-${EXPR_TEST_LABEL_VAL}}

# Bus config
ATAPP_BUS_LISTEN=${EXPR_TEST_BUS_LISTEN:-atcp://:::21437}
ATAPP_BUS_PROXY=
ATAPP_BUS_BACKLOG=256
ATAPP_BUS_ACCESS_TOKEN_MAX_NUMBER=5
ATAPP_BUS_FIRST_IDLE_TIMEOUT=30s
ATAPP_BUS_PING_INTERVAL=60s
ATAPP_BUS_RETRY_INTERVAL=3s
ATAPP_BUS_FAULT_TOLERANT=3
ATAPP_BUS_MESSAGE_SIZE=262144
ATAPP_BUS_RECEIVE_BUFFER_SIZE=8388608
ATAPP_BUS_SEND_BUFFER_SIZE=2097152
ATAPP_BUS_SEND_BUFFER_NUMBER=0
ATAPP_BUS_TOPOLOGY_RULE_ALLOW_DIRECT_CONNECTION=true
ATAPP_BUS_TOPOLOGY_RULE_REQUIRE_SAME_UPSTREAM=true
ATAPP_BUS_TOPOLOGY_RULE_REQUIRE_SAME_PROCESS=false
ATAPP_BUS_TOPOLOGY_RULE_REQUIRE_SAME_HOST=true
ATAPP_BUS_TOPOLOGY_RULE_MATCH_LABEL_0_KEY=region
ATAPP_BUS_TOPOLOGY_RULE_MATCH_LABEL_0_VALUE_VALUE_0=cn
ATAPP_BUS_TOPOLOGY_RULE_MATCH_LABEL_0_VALUE_VALUE_1=us
ATAPP_BUS_TOPOLOGY_RULE_MATCH_LABEL_1_KEY=env
ATAPP_BUS_TOPOLOGY_RULE_MATCH_LABEL_1_VALUE_VALUE_0=test
ATAPP_BUS_TOPOLOGY_DATA_LABEL_0_KEY=region
ATAPP_BUS_TOPOLOGY_DATA_LABEL_0_VALUE=cn
ATAPP_BUS_TOPOLOGY_DATA_LABEL_1_KEY=env
ATAPP_BUS_TOPOLOGY_DATA_LABEL_1_VALUE=test
ATAPP_BUS_CRYPTO_KEY_EXCHANGE_TYPE=ATAPP_CRYPTO_KEY_EXCHANGE_X25519
ATAPP_BUS_CRYPTO_KEY_REFRESH_INTERVAL=5s
ATAPP_BUS_CRYPTO_ALGORITHM_0=aes-128-gcm
ATAPP_BUS_CRYPTO_ALGORITHM_1=32
ATAPP_BUS_CRYPTO_ALGORITHM_2=ATAPP_CRYPTO_ALGORITHM_XCHACHA20_POLY1305_IETF
ATAPP_BUS_COMPRESSION_ALGORITHM_0=zstd
ATAPP_BUS_COMPRESSION_ALGORITHM_1=200
ATAPP_BUS_COMPRESSION_ALGORITHM_2=ATAPP_COMPRESSION_ALGORITHM_ZLIB
ATAPP_BUS_COMPRESSION_LEVEL=fast

# Timer config
ATAPP_TIMER_TICK_INTERVAL=32ms
ATAPP_TIMER_STOP_TIMEOUT=10s
ATAPP_TIMER_STOP_INTERVAL=256ms

# Etcd config
ATAPP_ETCD_ENABLE=false
ATAPP_ETCD_HOSTS_0=http://127.0.0.1:2375
ATAPP_ETCD_HOSTS_1=http://127.0.0.1:2376
ATAPP_ETCD_HOSTS_2=http://127.0.0.1:2377
ATAPP_ETCD_PATH=/atapp/services/astf4g/
ATAPP_ETCD_AUTHORIZATION=
ATAPP_ETCD_INIT_TICK_INTERVAL=1ms

# Log config
ATAPP_LOG_LEVEL=debug
ATAPP_LOG_CATEGORY_0_NAME=default
ATAPP_LOG_CATEGORY_0_PREFIX=[Log %L][%F %T.%f][%s:%n(%C)]: 
ATAPP_LOG_CATEGORY_0_STACKTRACE_MIN=error
ATAPP_LOG_CATEGORY_0_STACKTRACE_MAX=fatal
ATAPP_LOG_CATEGORY_1_NAME=db
ATAPP_LOG_CATEGORY_1_PREFIX=[Log %L][%F %T.%f]: 
ATAPP_LOG_CATEGORY_1_STACKTRACE_MIN=disable
ATAPP_LOG_CATEGORY_1_STACKTRACE_MAX=disable

ATAPP_LOG_DEFAULT_0_TYPE=file
ATAPP_LOG_DEFAULT_0_LEVEL_MIN=1
ATAPP_LOG_DEFAULT_0_LEVEL_MAX=3
ATAPP_LOG_DEFAULT_0_ROTATE_NUMBER=10
ATAPP_LOG_DEFAULT_0_ROTATE_SIZE=10485760
ATAPP_LOG_DEFAULT_0_FILE=../log/sample_echo_svr.error.%N.log
ATAPP_LOG_DEFAULT_0_WRITING_ALIAS=../log/sample_echo_svr.error.log
ATAPP_LOG_DEFAULT_0_AUTO_FLUSH=4
ATAPP_LOG_DEFAULT_0_FLUSH_INTERVAL=1m

ATAPP_LOG_DEFAULT_1_TYPE=file
ATAPP_LOG_DEFAULT_1_LEVEL_MIN=1
ATAPP_LOG_DEFAULT_1_LEVEL_MAX=6
ATAPP_LOG_DEFAULT_1_ROTATE_NUMBER=10
ATAPP_LOG_DEFAULT_1_ROTATE_SIZE=10485760
ATAPP_LOG_DEFAULT_1_FILE=../log/sample_echo_svr.all.%N.log
ATAPP_LOG_DEFAULT_1_WRITING_ALIAS=../log/sample_echo_svr.all.log
ATAPP_LOG_DEFAULT_1_AUTO_FLUSH=4
ATAPP_LOG_DEFAULT_1_FLUSH_INTERVAL=1m

ATAPP_LOG_DEFAULT_2_TYPE=stderr
ATAPP_LOG_DEFAULT_2_LEVEL_MIN=1
ATAPP_LOG_DEFAULT_2_LEVEL_MAX=3

ATAPP_LOG_DEFAULT_3_TYPE=stdout
ATAPP_LOG_DEFAULT_3_LEVEL_MIN=4
ATAPP_LOG_DEFAULT_3_LEVEL_MAX=6
